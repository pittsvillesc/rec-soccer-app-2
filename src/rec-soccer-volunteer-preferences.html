<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="../bower_components/polymerfire/firebase-document.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">
<link rel="import" href="../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="shared-styles.html">
<link rel="import" href="volunteer-dates.html">
<dom-module id="rec-soccer-volunteer-preferences">
    <template>
        <style include="shared-styles">
            :host {
                display: block;
/*                height: 100%;*/
/*                overflow: auto;*/
/*                padding: 10px;*/
                --paper-checkbox-margin: 2px;
            }
            paper-drawer-panel {
                top: 50px;
                margin-left: 0px;
            }
            paper-card {
                width: 100%;
                min-width: 325px;
                padding: 2px;
                margin: 2px;
                    
            }
            paper-item {
                width: 100%;
                margin-left: 0px;
            }
            paper-checkbox {
                width: 100%;
/*                margin-left: 8px;*/
            }
            #main-panel {
                @apply(--layout-horizontal);
                @apply(--layout-center-justified);
                
            }
            .option-container {
                @apply(--layout-horizontal);
                @apply(--layout-around-justified);
                @apply(--layout-wrap);
                
            }
            paper-button {
                background-color: var(--app-primary-color);
                color: #fff;
                margin-top: 10px;
            }
/*
            .option-container-center {
                @apply(--layout-horizontal);
                @apply(--layout-justified-center);
                @apply(--layout-wrap);
            }
*/
        </style>
                        
        <firebase-document id="preferencesDoc" 
                           app-name="registration-app" 
                           path="/family-profile/[[userId]]/volunteer-preferences" data="{{data}}"> </firebase-document>
        
        <paper-drawer-panel id="preferencesDrawer" 
                            right-drawer
                            force-narrow
                            disable-swipe
                            drawer-width="360px;">
            <div main id="main-panel">               
                    <paper-card>
                        <div class="list-container option-container">
                            
                            <div header>Please Select a Volunteer Option (select all that apply)</div>
                        </div>
                        <div class="list-container option-container">
                            <div>
                                <paper-checkbox id="boardMember"
                                                checked="{{data.boardMember}}">
                                    <paper-item>
                                        <paper-item-body>
                                            <div>Currently Serving Board Member</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                            <div>
                                <paper-checkbox id="buyoutOption"
                                                checked="{{data.buyoutOption}}"
                                                on-change="updateBuyout">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div>$35 Volunteer Buyout Option</div>
                                            <div secondary>A $35 charge is added to the registration to <br />cover the required work hours.</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                        </div>
                        <div class="list-container option-container" >                            
                            <div>
                                <paper-checkbox id="fieldSetUp"
                                                checked="{{data.fieldSetup}}">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div>Field Set-Up</div>
                                            <div secondary>Help with field set up before matches from <br />8-8:45 on either weeks 1,2,3 or Weeks 3,4,5</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                            <div>
                                <paper-checkbox id="fieldTakeDown"
                                                checked="{{data.fieldTakeDown}}">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div>Field Take Down</div>
                                            <div secondary>Help with field take down after matches <br />8-8:45 on either weeks 1,2,3 or Weeks 3,4,5</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                            <div>
                                <paper-checkbox id="refereeAid"
                                                checked="{{data.refereeAid}}">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div>Referee Aide</div>
                                            <div secondary>Check or select option to view job duties.</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                            <div>
                                <paper-checkbox id="concessions"
                                                checked="{{data.concessions}}">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div>Referee Aide</div>
                                            <div secondary>Check or select option to view job duties.</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                            <div>
                                <paper-checkbox id="coach"
                                                checked="{{data.coach}}">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div>Coach</div>
                                            <div secondary>Check or select option to view job duties.</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                            <div>
                                <paper-checkbox id="astCoach"
                                                checked="{{data.astCoach}}">
                                    <paper-item>
                                        <paper-item-body two-line>
                                            <div>Assistant Coach</div>
                                            <div secondary>Assist coach with practices and matches,<br /> POSITIVELY motivating players</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                            <div>
                                <paper-checkbox id="multipleTeams"
                                            checked="{{data.moreThanOneTeam}}">
                                    <paper-item>
                                        <paper-item-body>
                                            <div>Coaching more than one team</div>
                                        </paper-item-body>
                                    </paper-item>
                                </paper-checkbox>
                            </div>
                        </div>  
                        <div class="option-container">
                            <paper-dropdown-menu id="shirtSize"
                                                 label="T-Shirt Size"
                                                 value="{{data.shirtSize}}">
                                <paper-listbox class="dropdown-content"
                                               attr-for-selected="label"
                                               selected="{{data.shirtSize}}">
                                    <paper-item label="Small">Small (34-36)</paper-item>
                                    <paper-item label="Medium">Medium (38-40)</paper-item>
                                    <paper-item label="Large">Large (42-44)</paper-item>
                                    <paper-item label="X Large">X Large (46-48)</paper-item>
                                    <paper-item label="XX Large">XX Large (50-52)</paper-item>
                                </paper-listbox>
                            </paper-dropdown-menu>    
                        </div>
                        <div class="option-container">
                            <paper-button raised on-tap="openDrawer">Set Dates &amp; Times Unavailable for Work</paper-button>
                        </div>
                    </paper-card>                    
<!--                </div>                -->
            </div>
            <div drawer>  
                <volunteer-dates user-id="{{userId}}" data="{{data}}"></volunteer-dates>
            </div>
        </paper-drawer-panel>
    </template>

    <script>
        Polymer({
            is: 'rec-soccer-volunteer-preferences',
            properties: {
                title: {
                    type: String,
                    value: "<rec-soccer-volunteer-preferences></rec-soccer-volunteer-preferences>",
                },
                data: {
                    type: Object,
                    notify: true
                },
                userId: {
                    type: String
                },
//                useBuyout: {
//                    type: Booean,
//                    observer: "_disableVolunteerFields"
//                }
            },            
            
//            ready: function() {
//                console.log(this.data);
//            },
            openDrawer: function() {
                this.$.preferencesDrawer.openDrawer();
            },
            updateBuyout: function(e) {
                if (this.data.buyoutOption) {
                    this.$.fieldSetUp.disabled = true;
                    this.$.fieldSetUp.checked = false;
                    this.$.boardMember.disabled = true;
                    this.$.boardMember.checked = false;
                    this.$.fieldTakeDown.disabled = true;
                    this.$.fieldTakeDown.checked = false;
                    this.$.refereeAid.disabled = true;
                    this.$.refereeAid.checked = false;
                    this.$.concessions.disabled = true;
                    this.$.concessions.checked = false;
                    this.$.coach.disabled = true;
                    this.$.coach.checked = false;
                    this.$.astCoach.disabled = true;
                    this.$.astCoach.checked = false;
                    this.$.multipleTeams.disabled = true;
                    this.$.multipleTeams.checked = false;
                    this.$.shirtSize.disabled = true;
                    this.$.shirtSize.value = "";
                } else {
                    this.$.fieldSetUp.disabled = false;
                    this.$.boardMember.disabled = false;
                    this.$.fieldTakeDown.disabled = false;
                    this.$.refereeAid.disabled = false;
                    this.$.concessions.disabled = false;
                    this.$.coach.disabled = false;
                    this.$.astCoach.disabled = false;
                    this.$.multipleTeams.disabled = false;
                    this.$.shirtSize.disabled = false;
                }
            },
            updateboardMember: function() {
                if (this.data.boardMember) {
                    this.$.fieldSetUp.disabled = true;
                    this.$.buyoutOption.disabled = true;
                    this.$.fieldTakeDown.disabled = true;
                    this.$.refereeAid.disabled = true;
                    this.$.concessions.disabled = true;
//                    this.$.coach.disabled = true;
//                    this.$.astCoach.disabled = true;
//                    this.$.multipleTeams.disabled = true;
//                    this.$.shirtSize.disabled = true;
                } else {
                    this.$.fieldSetUp.disabled = false;
                    this.$.buyoutOption.disabled = false;
                    this.$.fieldTakeDown.disabled = false;
                    this.$.refereeAid.disabled = false;
                    this.$.concessions.disabled = false;
//                    this.$.coach.disabled = false;
//                    this.$.astCoach.disabled = false;
//                    this.$.multipleTeams.disabled = false;
//                    this.$.shirtSize.disabled = false;
            
                }
            }
        });
    </script>
</dom-module>
